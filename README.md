# Pixel-Farm-Game
Projeto criado e feito com Gemini
---
Sum√°rio de Funcionalidades: Mini Fazenda PixeladaAqui est√° uma descri√ß√£o completa de todos os sistemas e mec√¢nicas que foram implementados no jogo at√© este ponto.1. Motor Gr√°fico e MundoRenderiza√ß√£o: O jogo usa um <canvas> HTML5 e JavaScript puro para renderizar todos os elementos 60 vezes por segundo (requestAnimationFrame).Identidade Visual (Sprites): Todos os elementos visuais (personagem, tiles de terreno, √°rvores, pedras, luzes) s√£o desenhados processualmente usando fun√ß√µes de desenho (fillRect, arc, ellipse). N√£o usamos ficheiros de imagem externos, o que mant√©m o estilo pixel art coeso.Otimiza√ß√£o de Renderiza√ß√£o: O ch√£o (grama, terra, √°gua, planta√ß√µes) √© pr√©-renderizado num canvas "invis√≠vel" (preRenderedMapCanvas) uma √∫nica vez. O jogo principal apenas desenha este canvas de fundo, o que melhora drasticamente a performance.C√¢mera: O jogo tem uma c√¢mera (640x480) que segue o jogador, mantendo-o no centro do ecr√£, e √© presa nos limites do mapa (que √© maior que a tela).Y-Sorting (Efeito 2.5D): A fun√ß√£o de desenho principal ordena todos os objetos (jogador, troncos de √°rvores, copas, pedras, fogueiras, tochas) com base na sua posi√ß√£o Y ("p√©s") antes de os desenhar.Transpar√™ncia de Obst√°culos: Gra√ßas ao Y-Sorting, as copas das √°rvores (tree_canopy) ficam automaticamente semi-transparentes (globalAlpha = 0.5) quando o jogador passa por tr√°s delas, permitindo a visualiza√ß√£o.2. Ciclo de Dia/Noite e Ilumina√ß√£oRel√≥gio do Jogo: Um rel√≥gio no canto superior direito mostra o tempo do jogo (HH:MM). O tempo √© baseado no rel√≥gio real, onde 1 hora real equivale a 24 horas no jogo.√çcone de Tempo: Ao lado do rel√≥gio, um √≠cone de Sol (dia) ou Lua (noite) √© desenhado.Ciclo Visual de Escurid√£o: O jogo fica progressivamente mais escuro ao anoitecer (18:00 - 19:59) e fica escuro durante a noite (20:00 - 03:59), clareando ao amanhecer (04:00 - 05:59).Ilumina√ß√£o Aditiva (lighter): O canvas de luz (lightCanvas) primeiro desenha a escurid√£o e depois usa globalCompositeOperation = 'lighter' para que as fogueiras e tochas adicionem luz √† cena, criando um brilho claro e vibrante em vez de apenas "recortar" o escuro.Objetos de Luz: O mapa suporta Fogueiras (type: 2) e Tochas (type: 3) que emitem luz din√¢mica e animada.3. Controles (Teclado e Toque)O jogo suporta dois m√©todos de controlo:Teclado:Setas: Movem o personagem.L√≥gica de "Virar": O primeiro toque numa dire√ß√£o diferente apenas vira o personagem. Manter premido ou tocar uma segunda vez na mesma dire√ß√£o inicia o movimento.Espa√ßo: Usa a ferramenta ativa.1-0: Seleciona o atalho ativo na hotbar.B / Escape: Abre/Fecha a mochila.Ecr√£ T√°til (Mobile):Mover: Tocar e segurar numa dire√ß√£o relativa ao personagem (longe dele) inicia o movimento cont√≠nuo nessa dire√ß√£o.Virar: Um toque r√°pido (tap) numa dire√ß√£o relativa ao personagem apenas o vira.Usar Ferramenta: Um toque r√°pido (tap) no tile exato em frente ao personagem ativa a ferramenta (equivale √† barra de espa√ßo).4. Invent√°rio e Interface (UI)Mochila (Invent√°rio Principal): Um invent√°rio de 20 slots (backpackInventory) que guarda todos os itens.Barra de Atalhos (Hotbar): Uma barra de 10 slots (hotbarMapping) vis√≠vel no fundo do ecr√£.√çcone da Mochila: Um √≠cone üéí ao lado da hotbar permite abrir/fechar a mochila com um clique/toque.Sistema de Mapeamento: Os slots da hotbar s√£o apenas "atalhos" que apontam para um item na mochila.Customiza√ß√£o (Arrastar e Soltar): Com a mochila fechada, o jogador pode clicar e arrastar um slot da hotbar para outro para trocar as suas posi√ß√µes (atalhos).Customiza√ß√£o (Atribui√ß√£o): Com a mochila aberta, o jogador pode clicar num item da mochila e depois clicar num slot da hotbar para atribuir esse item √†quele atalho.Uso por Clique: Clicar num slot da hotbar que j√° est√° ativo tamb√©m ativa a ferramenta (equivale √† barra de espa√ßo).5. Mec√¢nicas de Jogo e FerramentasSistema de Planta√ß√£o (4 Est√°gios):Enxada: Transforma Grama (0) ou Terra (1) em Solo Arado (2).Semente: Planta Sementes (4) em Solo Arado (2).Crescimento: As sementes progridem de Semente (4) -> Muda (5) -> Planta (6) -> Pronta para Colheita (7).Tempo: Cada est√°gio leva 1 minuto (total de 3 minutos), com um contador visual em segundos sobre a planta.Colheita: Usar qualquer ferramenta num tile "Pronto para Colheita" (7) colhe o item (adiciona +1 √† "Colheita" na mochila) e reverte o solo para Arado (2).Regador:Pode ser reabastecido (10 cargas) ao ser usado num tile de √Ågua (3).Quando usado numa planta (4, 5, ou 6), gasta 1 carga, marca a planta como boosted: true, e corta o seu tempo total de crescimento pela metade.Mostra uma anima√ß√£o visual de gotas de √°gua.P√°:Transforma Terra (1), Arado (2), ou qualquer Planta (4-7) de volta em Grama (0).Transforma Grama (0) em √Ågua (3) apenas se o tile de grama estiver adjacente a um tile de √°gua existente.Machado:Destr√≥i/Remove objetos do tipo √Årvore (type: 1).Picareta:Destr√≥i/Remove objetos do tipo Rocha (type: 0).Martelo: (Ainda sem funcionalidade espec√≠fica).6. Persist√™ncia (Save/Load)localStorage: O jogo guarda automaticamente o progresso no localStorage do navegador (pixelFarmSaveData).O que √© Guardado: O estado do map (solo arado/plantado), a lista de mapObjects (√°rvores/pedras restantes), plantGrowthData (timers das plantas), o backpackInventory (todos os itens), o hotbarMapping (ordem dos atalhos) e o activeHotbarSlot (√∫ltimo item selecionado).Robustez: A fun√ß√£o loadGame consegue lidar com saves antigos ou corrompidos, garantindo que os itens padr√£o (Enxada, Machado, etc.) sejam sempre adicionados √† mochila se n√£o forem encontrados no save, e re-mapeia os atalhos b√°sicos se necess√°rio.